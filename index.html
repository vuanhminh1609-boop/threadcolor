<!DOCTYPE html>
<html lang="vi" data-world="origami">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>8Portal v4</title>
  <link rel="stylesheet" href="assets/dist/tailwind.css">
  <link rel="stylesheet" href="./assets/tones.css">
  <link rel="stylesheet" href="./assets/site_base.css">
  <link rel="stylesheet" href="./assets/topbar_overrides.css">
  <style>
    .tc-preview-swatch{
      width: 3rem;
      height: 3rem;
      border-radius: 0.9rem;
      border: 1px solid var(--stroke);
      background: var(--glass);
    }
    .tc-gradient-preview{
      border-radius: 0.9rem;
      border: 1px solid var(--stroke);
      background: linear-gradient(135deg, var(--a1), var(--a2), var(--a3));
      height: 70px;
    }
    [data-world-card="1"]{
      cursor: pointer;
      transition: transform .12s ease, box-shadow .18s ease, filter .18s ease;
    }
    [data-world-card="1"]:hover{
      transform: translateY(-1px);
      box-shadow: 0 18px 50px rgba(0,0,0,.16);
      filter: brightness(1.02);
    }
    [data-world-card="1"]:active{
      transform: translateY(1px);
    }
    [data-world-card="1"]:focus-visible{
      outline: none;
      box-shadow: 0 0 0 3px rgba(0,0,0,.12), 0 0 0 6px var(--a1), 0 18px 50px rgba(0,0,0,.16);
    }
    #worldMenu[data-open="0"] { display: none; }
    #worldMenu[data-open="1"] { display: block; }
    #worldMenu .tc-world-item{
      color: var(--text);
      transition: background-color .15s ease;
    }
    #worldMenu .tc-world-item:hover{ background: rgba(255,255,255,.10); }
    #worldMenu .tc-world-item:focus-visible{
      outline: none;
      box-shadow: 0 0 0 3px rgba(0,0,0,.12), 0 0 0 6px var(--a1);
      border-radius: 0.6rem;
      background: rgba(255,255,255,.08);
    }
    .tc-menu[data-open="0"] { display: none; }
    .tc-menu[data-open="1"] { display: block; }
    .tc-menu{
      background: var(--glass);
      border: 1px solid var(--stroke);
      color: var(--text);
    }
    .tc-menu-item{
      color: var(--text);
      transition: background-color .15s ease, transform .05s ease;
    }
    .tc-menu-item:hover{ background: rgba(255,255,255,.10); }
    .tc-menu-item:active{ transform: translateY(1px); }
    .tc-menu-item:focus-visible{
      outline: none;
      box-shadow: 0 0 0 3px rgba(0,0,0,.12), 0 0 0 6px var(--a1);
      border-radius: 0.6rem;
      background: rgba(255,255,255,.08);
    }
    @media (prefers-reduced-motion: reduce){
      .tc-btn,
      #worldMenu .tc-world-item,
      .tc-menu-item{
        transition: none;
      }
      [data-world-card="1"]{
        transition: none;
      }
      [data-world-card="1"]:hover,
      [data-world-card="1"]:active{
        transform: none;
      }
      .tc-toast{
        transition: none;
        transform: none;
      }
        .tc-toast.is-visible{
          transform: none;
        }
      }
      @media (max-width: 520px) {
        .tc-topbar > .max-w-6xl {
          flex-wrap: wrap;
          row-gap: 8px;
          column-gap: 8px;
        }
        .tc-topbar > .max-w-6xl > :nth-child(1) {
          order: 1;
          min-width: 0;
        }
        .tc-topbar > .max-w-6xl > :nth-child(2) {
          order: 3;
          flex: 1 1 100%;
          min-width: 0;
        }
        .tc-topbar > .max-w-6xl > :nth-child(3) {
          order: 2;
          margin-left: auto;
        }
        .tc-topbar #portalSwitcher,
        .tc-topbar #portalBtn {
          width: 100%;
          max-width: 100%;
        }
        .tc-topbar [data-i18n="topbar.slogan"] {
          display: none;
        }
        .tc-topbar .tc-brand {
          max-width: 160px;
          overflow: hidden;
          text-overflow: ellipsis;
          white-space: nowrap;
        }
        #topbarAuthSlot #userName {
          display: none;
        }
        .tc-topbar a,
        .tc-topbar button {
          min-height: 40px;
        }
      }
    </style>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Noto+Sans:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    html, body, button, input, select, textarea {
      font-family: "Inter", "Noto Sans", system-ui, -apple-system, "Segoe UI", sans-serif;
    }
  </style></head>
<body class="font-sans">
  <!-- TOPBAR -->
      <div id="tcTopbarMount"></div>



  <main>
    <!-- HERO -->
    <section class="max-w-6xl mx-auto px-4 pt-14 pb-12">
      <div class="tc-card p-8 md:p-10">
        <p class="text-xs uppercase tracking-[0.3em] tc-muted">Sảnh điều phối</p>
        <h1 class="text-4xl md:text-5xl font-bold mt-3" data-i18n="hero.title">Không gian chuẩn hóa màu số.</h1>
        <p class="mt-4 tc-muted max-w-2xl whitespace-pre-line" data-i18n="hero.desc">8 Thế giới màu đã sẵn sàng — mỗi Thế giới là một không gian màu sắc chuyên biệt — tạo, chuyển đổi, chuẩn hoá, lưu và áp dụng màu theo nhu cầu của bạn, và nhiều hơn thế nữa...
Từ Hex/ảnh → tra mã chỉ → bảng phối (Palette) → dải chuyển (Gradient) → màu in (CMYK) → Chia sẻ + Remix
Khám phá 8 Thế giới ở thanh “Chọn Thế giới” hoặc lướt xuống để xem sơ đồ 8 cổng — chọn 1 cổng để bước vào Thế giới bạn cần.</p>
        <p class="mt-4 text-sm tc-muted" data-i18n="hero.journey">Hành trình 1–2–3: Chọn Thế giới → Tạo/Chuẩn hoá → Lưu & Áp dụng.</p>
        <a class="mt-3 inline-flex items-center gap-2 text-sm font-semibold tc-muted hover:text-white" href="#portalHub" data-i18n="hero.ctaJump">Đi đến 8 cổng ngay</a>
        <div class="mt-6 flex flex-wrap gap-3">
          <a class="tc-btn tc-btn-primary px-5 py-3" href="./worlds/library.html" data-i18n="hero.ctaPrimary">Bắt đầu với Thư viện màu</a>
          <a class="tc-btn tc-chip px-5 py-3" href="./worlds/threadcolor.html" data-i18n="hero.ctaSecondary">Mở công cụ tra mã chỉ</a>
        </div>
      </div>
    </section>

    <!-- PORTAL HUB -->
    <section class="max-w-6xl mx-auto px-4 pb-12" id="portalHub">
      <div class="flex items-end justify-between mb-6">
        <div>
          <h2 class="text-2xl font-semibold">8 Cổng SpaceColors</h2>
          <p class="tc-muted text-sm mt-1">Chọn cổng để bước vào một Thế giới sắc màu khác.</p>
        </div>
      </div>
      <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4">
        <div class="tc-card p-5 flex flex-col gap-4 h-full">
          <div class="flex-1">
            <h3 class="font-semibold">Thế giới màu thêu (Embroidery)</h3>
            <p class="tc-muted text-sm mt-2">Tra mã chỉ từ ảnh/HEX, so màu gần nhất, quản lý kho chỉ và đặt mua.</p>
          </div>
          <a class="tc-btn tc-btn-primary px-4 py-2 inline-flex w-full sm:w-max mt-auto self-start" href="./worlds/threadcolor.html">Mở</a>
        </div>
        <div class="tc-card p-5 flex flex-col gap-4 h-full">
          <div class="flex-1">
            <h3 class="font-semibold">Thế giới Dải chuyển màu (Gradient)</h3>
            <p class="tc-muted text-sm mt-2">Tạo dải chuyển màu, chỉnh góc & điểm neo, xuất CSS/Token nhanh.</p>
          </div>
          <a class="tc-btn tc-btn-primary px-4 py-2 inline-flex w-full sm:w-max mt-auto self-start" href="./worlds/gradient.html">Mở</a>
        </div>
        <div class="tc-card p-5 flex flex-col gap-4 h-full">
          <div class="flex-1">
            <h3 class="font-semibold">Thế giới Bảng phối màu (Palette)</h3>
            <p class="tc-muted text-sm mt-2">Khám phá phối màu theo cảm xúc, lưu bộ sưu tập, xuất token/HEX.</p>
          </div>
          <a class="tc-btn tc-btn-primary px-4 py-2 inline-flex w-full sm:w-max mt-auto self-start" href="./worlds/palette.html">Mở</a>
        </div>
        <div class="tc-card p-5 flex flex-col gap-4 h-full">
          <div class="flex-1">
            <h3 class="font-semibold">Thế giới Màu in (CMYK)</h3>
            <p class="tc-muted text-sm mt-2">Đổi HEX → CMYK, theo dõi TAC, cảnh báo lệch in và xuất bảng cho nhà in.</p>
          </div>
          <a class="tc-btn tc-btn-primary px-4 py-2 inline-flex w-full sm:w-max mt-auto self-start" href="./worlds/printcolor.html">Mở</a>
        </div>
        <div class="tc-card p-5 flex flex-col gap-4 h-full">
          <div class="flex-1">
            <h3 class="font-semibold mt-3">Thế giới Thư viện Tài sản Màu</h3>
            <p class="tc-muted text-sm mt-2">Lưu tài sản màu, lọc nhanh, xem nhanh và áp dụng sang Palette/Gradient.</p>
          </div>
          <a class="tc-btn tc-btn-primary px-4 py-2 inline-flex w-full sm:w-max mt-auto self-start" href="./worlds/library.html">Mở</a>
        </div>
        <div class="tc-card p-5 flex flex-col gap-4 h-full">
          <div class="flex-1">
            <h3 class="font-semibold mt-3">Thế giới màu Sơn&Vải</h3>
            <p class="tc-muted text-sm mt-2">Mô phỏng màu trên sơn/vải, điều chỉnh ánh sáng, lưu tài sản vật liệu.</p>
          </div>
          <a class="tc-btn tc-btn-primary px-4 py-2 inline-flex w-full sm:w-max mt-auto self-start" href="./worlds/paintfabric.html">Mở</a>
        </div>
        <div class="tc-card p-5 flex flex-col gap-4 h-full">
          <div class="flex-1">
            <h3 class="font-semibold mt-3">Thế giới Màu từ Ảnh</h3>
            <p class="tc-muted text-sm mt-2">Lấy màu chủ đạo từ ảnh, tạo palette/gradient và lưu nhanh.</p>
          </div>
          <a class="tc-btn tc-btn-primary px-4 py-2 inline-flex w-full sm:w-max mt-auto self-start" href="./worlds/imagecolor.html">Mở</a>
        </div>
        <div class="tc-card p-5 flex flex-col gap-4 h-full">
          <div class="flex-1">
            <h3 class="font-semibold mt-3">Thế giới Chia sẻ + Remix</h3>
            <p class="tc-muted text-sm mt-2">Chia sẻ tài sản màu, remix về Thư viện và khám phá cộng đồng.</p>
          </div>
          <a class="tc-btn tc-btn-primary px-4 py-2 inline-flex w-full sm:w-max mt-auto self-start" href="./worlds/community.html">Mở</a>
        </div>
      </div>
    </section>

    <!-- QUICK ACTIONS -->
    <section class="max-w-6xl mx-auto px-4 pb-12" id="quickHub">
      <div class="flex items-end justify-between mb-6">
        <div>
          <h2 class="text-2xl font-semibold">Trạm thao tác nhanh</h2>
          <p class="tc-muted text-sm mt-1">Làm nhanh ngay tại sảnh, sau đó mới mở chi tiết.</p>
        </div>
      </div>
      <div class="tc-card p-6 md:p-8">
        <div class="flex gap-2 overflow-x-auto pb-2" id="quickTabs" role="tablist">
          <button class="tc-btn tc-chip px-4 py-2 text-sm whitespace-nowrap" data-tab="paste" role="tab" aria-selected="true">Dán màu</button>
          <button class="tc-btn tc-chip px-4 py-2 text-sm whitespace-nowrap" data-tab="thread" role="tab" aria-selected="false">Tra mã chỉ từ màu</button>
          <button class="tc-btn tc-chip px-4 py-2 text-sm whitespace-nowrap" data-tab="image" role="tab" aria-selected="false">Tra mã chỉ từ ảnh</button>
        </div>

        <div class="mt-5 space-y-6" id="quickPanels">
          <div data-panel="paste" role="tabpanel">
            <label class="text-sm font-semibold" for="qaPasteInput">Danh sách HEX</label>
            <textarea id="qaPasteInput" class="tc-input mt-2" placeholder="#FFAA00, #123456
#0F766E"></textarea>
            <div class="mt-3 flex flex-wrap gap-2">
              <button id="qaPasteApply" class="tc-btn tc-btn-primary px-4 py-2 text-sm" type="button">Áp dụng</button>
            </div>
            <div id="qaPasteSwatches" class="mt-4 flex flex-wrap gap-2"></div>

            <div class="mt-5 grid gap-4 lg:grid-cols-3">
              <div class="tc-card p-4">
                <div class="flex items-center justify-between">
                  <h3 class="text-sm font-semibold">Đổi CMYK ngay</h3>
                  <button id="qaPasteCmyk" class="tc-btn tc-chip px-3 py-1 text-xs" type="button">Thực hiện</button>
                </div>
                <div id="qaPasteCmykOut" class="mt-3 text-xs tc-muted"></div>
                <a id="qaOpenCmyk" class="tc-btn tc-btn-primary px-3 py-2 text-xs mt-3 inline-flex hidden" href="./worlds/printcolor.html">Mở chi tiết</a>
              </div>
              <div class="tc-card p-4">
                <div class="flex items-center justify-between">
                  <h3 class="text-sm font-semibold">Tạo dải ngay</h3>
                  <button id="qaPasteGradient" class="tc-btn tc-chip px-3 py-1 text-xs" type="button">Thực hiện</button>
                </div>
                <div id="qaPasteGradientOut" class="mt-3 h-12 rounded-lg border border-[rgba(0,0,0,.12)]"></div>
                <a id="qaOpenGradient" class="tc-btn tc-btn-primary px-3 py-2 text-xs mt-3 inline-flex hidden" href="./worlds/gradient.html">Mở chi tiết</a>
              </div>
              <div class="tc-card p-4">
                <div class="flex items-center justify-between">
                  <h3 class="text-sm font-semibold">Xuất token ngay</h3>
                  <button id="qaPasteExport" class="tc-btn tc-chip px-3 py-1 text-xs" type="button">Thực hiện</button>
                </div>
                <pre id="qaPasteExportOut" class="mt-3 text-[11px] tc-muted whitespace-pre-wrap"></pre>
                <button id="qaPasteCopy" class="tc-btn tc-chip px-3 py-2 text-xs mt-2 hidden" type="button">Sao chép</button>
                <a id="qaOpenPalette" class="tc-btn tc-btn-primary px-3 py-2 text-xs mt-2 inline-flex hidden" href="./worlds/palette.html">Mở chi tiết</a>
              </div>
            </div>
          </div>

          <div data-panel="thread" role="tabpanel" class="hidden">
            <label class="text-sm font-semibold" for="qaThreadHex">Nhập HEX</label>
            <div class="mt-2 flex flex-wrap gap-2 items-center">
              <input id="qaThreadHex" class="tc-input w-[180px]" placeholder="#FFAA00">
              <button id="qaThreadSearch" class="tc-btn tc-btn-primary px-4 py-2 text-sm" type="button">Tra ngay</button>
            </div>
            <ul id="qaThreadList" class="mt-4 space-y-2 text-sm"></ul>
            <a id="qaThreadOpen" class="tc-btn tc-btn-primary px-3 py-2 text-xs mt-3 inline-flex hidden" href="./worlds/threadcolor.html">Mở chi tiết (Embroidery)</a>
          </div>

          <div data-panel="image" role="tabpanel" class="hidden">
            <label class="text-sm font-semibold">Chọn ảnh</label>
            <div class="mt-2 flex flex-wrap gap-2 items-center">
              <label class="tc-btn tc-chip px-4 py-2 text-sm" for="qaImageInput">Chọn ảnh</label>
              <input id="qaImageInput" type="file" accept="image/*" class="sr-only">
              <button id="qaImageAnalyze" class="tc-btn tc-btn-primary px-4 py-2 text-sm" type="button">Phân tích</button>
            </div>
            <div id="qaImageSwatches" class="mt-4 flex flex-wrap gap-2"></div>
            <ul id="qaImageThreads" class="mt-4 space-y-2 text-sm"></ul>
            <a id="qaImageOpen" class="tc-btn tc-btn-primary px-3 py-2 text-xs mt-3 inline-flex hidden" href="./worlds/threadcolor.html">Mở chi tiết (Embroidery)</a>
          </div>
        </div>
      </div>
    </section>

    <!-- ROULETTE -->
    <section class="max-w-6xl mx-auto px-4 pb-12" id="rouletteHub">
      <div class="flex items-end justify-between mb-6">
        <div>
          <h2 class="text-2xl font-semibold" data-i18n="roulette.title">Vòng quay dải màu</h2>
          <p class="tc-muted text-sm mt-1" data-i18n="roulette.desc">Chọn ngẫu nhiên một bộ màu nhấn để khám phá nhanh.</p>
        </div>
      </div>
      <div class="tc-card p-6 md:p-8">
        <div class="flex flex-wrap items-center gap-4">
          <div class="flex items-center gap-3">
            <div class="tc-preview-swatch" style="background: var(--a1);"></div>
            <div class="tc-preview-swatch" style="background: var(--a2);"></div>
            <div class="tc-preview-swatch" style="background: var(--a3);"></div>
          </div>
          <div class="flex flex-wrap gap-3">
            <button id="rouletteSpin" class="tc-btn tc-btn-primary px-4 py-2" data-i18n="roulette.spin">Quay màu</button>
            <button id="rouletteReset" class="tc-btn tc-chip px-4 py-2" data-i18n="roulette.reset">Đặt lại</button>
          </div>
        </div>
      </div>
    </section>

    <!-- FORGE -->
    <section class="max-w-6xl mx-auto px-4 pb-16">
      <div class="flex items-end justify-between mb-6">
        <div>
          <h2 class="text-2xl font-semibold" data-i18n="roulette.title">Vòng quay dải màu</h2>
          <p class="tc-muted text-sm mt-1" data-i18n="roulette.desc">Chọn ngẫu nhiên một bộ màu nhấn để khám phá nhanh.</p>
        </div>
      </div>
    <section class="max-w-6xl mx-auto px-4 pb-12" id="forgeHub">
      <div class="flex items-end justify-between mb-6">
        <div>
          <h2 class="text-2xl font-semibold" data-i18n="forge.title">Lò rèn bảng màu</h2>
          <p class="tc-muted text-sm mt-1" data-i18n="forge.desc">Tuỳ chỉnh bộ màu nhấn để phù hợp với gu của bạn.</p>
        </div>
      </div>
      <div class="tc-card p-6 md:p-8 space-y-6">
        <div class="grid grid-cols-1 sm:grid-cols-3 gap-4">
          <div class="flex items-center justify-between gap-3">
            <div>
              <div class="text-sm font-semibold" data-i18n="forge.a1.label">Màu nhấn 1</div>
              <div class="tc-muted text-xs mt-1" data-accent-value="a1">--</div>
            </div>
            <input id="forgeA1" type="color" class="tc-color-input" value="#000000" aria-label="Màu nhấn 1">
          </div>
          <div class="flex items-center justify-between gap-3">
            <div>
              <div class="text-sm font-semibold" data-i18n="forge.a2.label">Màu nhấn 2</div>
              <div class="tc-muted text-xs mt-1" data-accent-value="a2">--</div>
            </div>
            <input id="forgeA2" type="color" class="tc-color-input" value="#000000" aria-label="Màu nhấn 2">
          </div>
          <div class="flex items-center justify-between gap-3">
            <div>
              <div class="text-sm font-semibold" data-i18n="forge.a3.label">Màu nhấn 3</div>
              <div class="tc-muted text-xs mt-1" data-accent-value="a3">--</div>
            </div>
            <input id="forgeA3" type="color" class="tc-color-input" value="#000000" aria-label="Màu nhấn 3">
          </div>
        </div>
        <div>
          <div class="text-sm font-semibold mb-2" data-i18n="forge.preview">Xem trước gradient</div>
          <div id="forgePreview" class="tc-gradient-preview"></div>
        </div>
        <div class="flex flex-wrap gap-3">
          <button id="forgeCopy" class="tc-btn tc-chip px-4 py-2" data-i18n="forge.copy">Sao chép CSS</button>
        </div>
      </div>
    </section>

    <!-- GALLERY -->
    <section class="max-w-6xl mx-auto px-4 pb-16">
      <div class="flex items-end justify-between mb-6">
        <div>
          <h2 class="text-2xl font-semibold" data-i18n="gallery.title">Bộ sưu tập sắc thái</h2>
          <p class="tc-muted text-sm mt-1" data-i18n="gallery.desc">8 sắc thái cảm giác.</p>
        </div>
      </div>
      <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4" data-world-grid="1">
        <div class="tc-card p-5" data-world-card="1" data-world="nebula" role="button" tabindex="0" aria-label="Kích hoạt Thế giới: Tinh vân">
          <div class="flex items-center gap-2">
            <span class="tc-dot"></span>
            <h3 class="font-semibold" data-world-label="nebula">Tinh vân</h3>
          </div>
          <p class="tc-muted text-sm mt-2" data-world-desc="nebula">Tinh vân huyền ảo, ánh tím xanh sâu thẳm.</p>
          <span class="text-xs mt-4 inline-block tc-muted" data-i18n="gallery.activate">Kích hoạt</span>
        </div>
        <div class="tc-card p-5" data-world-card="1" data-world="ocean" role="button" tabindex="0" aria-label="Kích hoạt Thế giới: Đại dương">
          <div class="flex items-center gap-2">
            <span class="tc-dot"></span>
            <h3 class="font-semibold" data-world-label="ocean">Đại dương</h3>
          </div>
          <p class="tc-muted text-sm mt-2" data-world-desc="ocean">Đại dương mát lành, cảm giác sáng sạch.</p>
          <span class="text-xs mt-4 inline-block tc-muted" data-i18n="gallery.activate">Kích hoạt</span>
        </div>
        <div class="tc-card p-5" data-world-card="1" data-world="ink" role="button" tabindex="0" aria-label="Kích hoạt Thế giới: Mực tàu">
          <div class="flex items-center gap-2">
            <span class="tc-dot"></span>
            <h3 class="font-semibold" data-world-label="ink">Mực tàu</h3>
          </div>
          <p class="tc-muted text-sm mt-2" data-world-desc="ink">Tối giản, mực tàu và độ sâu.</p>
          <span class="text-xs mt-4 inline-block tc-muted" data-i18n="gallery.activate">Kích hoạt</span>
        </div>
        <div class="tc-card p-5" data-world-card="1" data-world="origami" role="button" tabindex="0" aria-label="Kích hoạt Thế giới: Origami">
          <div class="flex items-center gap-2">
            <span class="tc-dot"></span>
            <h3 class="font-semibold" data-world-label="origami">Origami</h3>
          </div>
          <p class="tc-muted text-sm mt-2" data-world-desc="origami">Giấy gấp, ấm áp và nhẹ nhàng.</p>
          <span class="text-xs mt-4 inline-block tc-muted" data-i18n="gallery.activate">Kích hoạt</span>
        </div>
        <div class="tc-card p-5" data-world-card="1" data-world="arcade" role="button" tabindex="0" aria-label="Kích hoạt Thế giới: Arcade">
          <div class="flex items-center gap-2">
            <span class="tc-dot"></span>
            <h3 class="font-semibold" data-world-label="arcade">Arcade</h3>
          </div>
          <p class="tc-muted text-sm mt-2" data-world-desc="arcade">Nê-on năng lượng, nhịp nhanh.</p>
          <span class="text-xs mt-4 inline-block tc-muted" data-i18n="gallery.activate">Kích hoạt</span>
        </div>
        <div class="tc-card p-5" data-world-card="1" data-world="dunes" role="button" tabindex="0" aria-label="Kích hoạt Thế giới: Đồi cát">
          <div class="flex items-center gap-2">
            <span class="tc-dot"></span>
            <h3 class="font-semibold" data-world-label="dunes">Đồi cát</h3>
          </div>
          <p class="tc-muted text-sm mt-2" data-world-desc="dunes">Sa mạc, nắng vàng, yên tĩnh.</p>
          <span class="text-xs mt-4 inline-block tc-muted" data-i18n="gallery.activate">Kích hoạt</span>
        </div>
        <div class="tc-card p-5" data-world-card="1" data-world="chrome" role="button" tabindex="0" aria-label="Kích hoạt Thế giới: Chrome">
          <div class="flex items-center gap-2">
            <span class="tc-dot"></span>
            <h3 class="font-semibold" data-world-label="chrome">Chrome</h3>
          </div>
          <p class="tc-muted text-sm mt-2" data-world-desc="chrome">Kim loại sáng, chuẩn xác, sạch.</p>
          <span class="text-xs mt-4 inline-block tc-muted" data-i18n="gallery.activate">Kích hoạt</span>
        </div>
        <div class="tc-card p-5" data-world-card="1" data-world="circuit" role="button" tabindex="0" aria-label="Kích hoạt Thế giới: Mạch điện">
          <div class="flex items-center gap-2">
            <span class="tc-dot"></span>
            <h3 class="font-semibold" data-world-label="circuit">Mạch điện</h3>
          </div>
          <p class="tc-muted text-sm mt-2" data-world-desc="circuit">Mạch điện, xanh lục kỹ thuật.</p>
          <span class="text-xs mt-4 inline-block tc-muted" data-i18n="gallery.activate">Kích hoạt</span>
        </div>
      </div>
    </section>
  </main>

  <!-- FOOTER -->
  <footer class="max-w-6xl mx-auto px-4 pb-10">
    <div class="tc-card p-6">
      <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 text-sm">
        <div class="space-y-3">
          <h3 class="text-sm font-semibold" data-i18n="footer.columns.tools.title">Công cụ</h3>
          <ul class="space-y-2">
            <li><a class="hover:text-white" href="./worlds/threadcolor.html" data-i18n="footer.columns.tools.threadcolor">Tra mã chỉ (HEX/Ảnh)</a></li>
            <li><a class="hover:text-white" href="./worlds/threadvault.html" data-i18n="footer.columns.tools.threadvault">Kho chỉ</a></li>
            <li><a class="hover:text-white" href="./worlds/library.html" data-i18n="footer.columns.tools.library">Thư viện màu</a></li>
            <li><a class="hover:text-white" href="./worlds/palette.html" data-i18n="footer.columns.tools.palette">Tạo bảng phối</a></li>
            <li><a class="hover:text-white" href="./worlds/gradient.html" data-i18n="footer.columns.tools.gradient">Tạo dải chuyển</a></li>
            <li><a class="hover:text-white" href="./worlds/imagecolor.html" data-i18n="footer.columns.tools.imagecolor">Lấy màu từ ảnh</a></li>
            <li><a class="hover:text-white" href="./worlds/printcolor.html" data-i18n="footer.columns.tools.printcolor">Đổi màu in CMYK</a></li>
            <li><a class="hover:text-white" href="./worlds/paintfabric.html" data-i18n="footer.columns.tools.paintfabric">Phối màu Sơn & Vải</a></li>
          </ul>
        </div>
        <div class="space-y-3">
          <h3 class="text-sm font-semibold" data-i18n="footer.columns.discover.title">Khám phá</h3>
          <ul class="space-y-2">
            <li><a class="hover:text-white" href="#portalHub" data-i18n="footer.columns.discover.portalHub">8 Cổng SpaceColors</a></li>
            <li><a class="hover:text-white" href="#quickHub" data-i18n="footer.columns.discover.quickHub">Trạm thao tác nhanh</a></li>
            <li><a class="hover:text-white" href="#rouletteHub" data-i18n="footer.columns.discover.rouletteHub">Vòng quay màu nhấn (A1→A3)</a></li>
            <li><a class="hover:text-white" href="#forgeHub" data-i18n="footer.columns.discover.forgeHub">Lò rèn màu nhấn (A1→A3)</a></li>
            <li><a class="hover:text-white" href="./worlds/community.html" data-i18n="footer.columns.discover.community">Cộng đồng</a></li>
          </ul>
        </div>
        <div class="space-y-3">
          <h3 class="text-sm font-semibold" data-i18n="footer.columns.support.title">Hỗ trợ</h3>
          <ul class="space-y-2">
            <li><button class="text-left hover:text-white" data-action="open-support" data-i18n="footer.columns.support.help">Hỗ trợ giải đáp</button></li>
            <li><button class="text-left hover:text-white" data-action="open-support-bug" data-i18n="footer.columns.support.bug">Báo lỗi</button></li>
            <li><button class="text-left hover:text-white" data-action="open-support-feature" data-i18n="footer.columns.support.feature">Đề xuất tính năng</button></li>
            <li><button class="text-left hover:text-white" data-action="open-support-start" data-i18n="footer.columns.support.start">Hướng dẫn bắt đầu trong 60 giây</button></li>
          </ul>
        </div>
        <div class="space-y-3">
          <h3 class="text-sm font-semibold" data-i18n="footer.columns.contact.title">Liên hệ</h3>
          <ul class="space-y-2">
            <li>
              <a id="footerEmailLink" class="hover:text-white" href="#">
                <span data-i18n="footer.columns.contact.email">Email</span>: <span id="footerEmailText"></span>
              </a>
            </li>
            <li>
              <div class="flex flex-wrap gap-2">
                <a id="footerPhoneLink" class="hover:text-white" href="#" data-i18n="footer.columns.contact.call">Gọi ngay</a>
                <a id="footerZaloLink" class="hover:text-white" href="#" data-i18n="footer.columns.contact.zalo">Chat Zalo</a>
              </div>
            </li>
            <li class="tc-muted text-xs" data-i18n="footer.columns.contact.hours">Hỗ trợ 24/7</li>
          </ul>
        </div>
      </div>
      <div class="mt-6 pt-6 border-t border-white/10 flex flex-wrap items-center justify-between gap-3 text-sm tc-muted">
        <span id="footerCopyright" data-i18n="footer.bottom.copyright">© 2026 SpaceColors · 8Portals</span>
        <div class="flex flex-wrap gap-2">
          <a class="hover:text-white" href="./terms.html" data-i18n="footer.bottom.terms">Điều khoản</a>
          <span>·</span>
          <a class="hover:text-white" href="./privacy.html" data-i18n="footer.bottom.privacy">Quyền riêng tư</a>
          <span>·</span>
          <a class="hover:text-white" href="./cookies.html" data-i18n="footer.bottom.cookies">Cookie</a>
        </div>
      </div>
    </div>
  </footer>

  <div id="supportModal" class="fixed inset-0 z-50 hidden items-center justify-center bg-black/40 p-4" role="dialog" aria-modal="true" aria-hidden="true">
    <div class="tc-card w-full max-w-3xl p-6 max-h-[86vh] overflow-hidden flex flex-col">
      <div class="flex items-center justify-between">
        <h2 class="text-lg font-semibold" data-i18n="support.title">Hỗ trợ giải đáp</h2>
        <button id="supportClose" class="tc-btn tc-chip px-3 py-1 text-sm" type="button" data-i18n="common.close">Đóng</button>
      </div>
      <div class="mt-4 overflow-y-auto pr-2 space-y-6" id="supportScroll">
        <div class="space-y-2">
          <p class="text-sm font-semibold" data-i18n="support.toc.title">Mục lục câu hỏi</p>
          <div class="flex flex-wrap gap-2 text-xs" id="supportToc">
            <button class="tc-chip px-3 py-1 rounded-full" data-support-target="support-start" data-i18n="support.toc.start">Bắt đầu trong 60 giây</button>
            <button class="tc-chip px-3 py-1 rounded-full" data-support-target="support-hex" data-i18n="support.toc.hex">Tra mã chỉ từ HEX</button>
            <button class="tc-chip px-3 py-1 rounded-full" data-support-target="support-image" data-i18n="support.toc.image">Tra mã chỉ từ ảnh</button>
            <button class="tc-chip px-3 py-1 rounded-full" data-support-target="support-screen" data-i18n="support.toc.screen">Khác màu giữa màn hình</button>
            <button class="tc-chip px-3 py-1 rounded-full" data-support-target="support-save" data-i18n="support.toc.save">Lưu vào Thư viện</button>
            <button class="tc-chip px-3 py-1 rounded-full" data-support-target="support-export" data-i18n="support.toc.export">Xuất bảng phối/dải chuyển</button>
            <button class="tc-chip px-3 py-1 rounded-full" data-support-target="support-storage" data-i18n="support.toc.storage">Dữ liệu lưu ở đâu</button>
            <button class="tc-chip px-3 py-1 rounded-full" data-support-target="support-privacy" data-i18n="support.toc.privacy">Quyền riêng tư & telemetry</button>
            <button class="tc-chip px-3 py-1 rounded-full" data-support-target="support-cmyk" data-i18n="support.toc.cmyk">Khi nào dùng CMYK</button>
            <button class="tc-chip px-3 py-1 rounded-full" data-support-target="support-remix" data-i18n="support.toc.remix">Cộng đồng remix</button>
            <button class="tc-chip px-3 py-1 rounded-full" data-support-target="support-pro" data-i18n="support.toc.pro">Gói Pro</button>
            <button class="tc-chip px-3 py-1 rounded-full" data-support-target="support-bug" data-i18n="support.toc.bug">Báo lỗi hiệu quả</button>
          </div>
        </div>

        <div class="space-y-5 text-sm leading-relaxed">
          <section id="support-start">
            <h3 class="font-semibold" data-i18n="support.q1">Bắt đầu trong 60 giây</h3>
            <p class="tc-muted" data-i18n="support.a1">Đang cập nhật hướng dẫn nhanh theo từng công cụ.</p>
          </section>
          <section id="support-hex">
            <h3 class="font-semibold" data-i18n="support.q2">Tra mã chỉ từ HEX hoạt động thế nào?</h3>
            <p class="tc-muted" data-i18n="support.a2">Hệ thống so khớp màu gần nhất theo không gian màu để gợi ý mã chỉ.</p>
          </section>
          <section id="support-image">
            <h3 class="font-semibold" data-i18n="support.q3">Tra mã chỉ từ ảnh hoạt động thế nào?</h3>
            <p class="tc-muted" data-i18n="support.a3">Ảnh được lấy mẫu màu chính, sau đó so khớp với kho mã chỉ.</p>
          </section>
          <section id="support-screen">
            <h3 class="font-semibold" data-i18n="support.q4">Vì sao kết quả khác nhau giữa các màn hình?</h3>
            <p class="tc-muted" data-i18n="support.a4">Mỗi màn hình có profile màu khác nhau; hãy kiểm tra trên thiết bị chuẩn.</p>
          </section>
          <section id="support-save">
            <h3 class="font-semibold" data-i18n="support.q5">Cách lưu vào Thư viện màu</h3>
            <p class="tc-muted" data-i18n="support.a5">Chọn tài sản → Lưu vào Thư viện → đặt tên để lưu lại.</p>
          </section>
          <section id="support-export">
            <h3 class="font-semibold" data-i18n="support.q6">Cách xuất bảng phối / dải chuyển</h3>
            <p class="tc-muted" data-i18n="support.a6">Dùng nút Xuất trong công cụ tương ứng để lấy CSS hoặc token.</p>
          </section>
          <section id="support-storage">
            <h3 class="font-semibold" data-i18n="support.q7">Dữ liệu lưu ở đâu?</h3>
            <p class="tc-muted" data-i18n="support.a7">Mặc định lưu localStorage; có thể đồng bộ khi đăng nhập.</p>
          </section>
          <section id="support-privacy">
            <h3 class="font-semibold" data-i18n="support.q8">Quyền riêng tư & telemetry</h3>
            <p class="tc-muted" data-i18n="support.a8">Telemetry chỉ dùng để đo lường, luôn fail-silent và có thể tắt khi local.</p>
          </section>
          <section id="support-cmyk">
            <h3 class="font-semibold" data-i18n="support.q9">Khi nào nên dùng CMYK</h3>
            <p class="tc-muted" data-i18n="support.a9">Khi chuẩn bị in ấn, hãy chuyển sang CMYK để kiểm tra TAC và lệch màu.</p>
          </section>
          <section id="support-remix">
            <h3 class="font-semibold" data-i18n="support.q10">Cộng đồng remix hoạt động ra sao?</h3>
            <p class="tc-muted" data-i18n="support.a10">Chia sẻ tài sản lên feed; người khác có thể remix và lưu lại.</p>
          </section>
          <section id="support-pro">
            <h3 class="font-semibold" data-i18n="support.q11">Gói Pro gồm gì. Kích hoạt thế nào.</h3>
            <p class="tc-muted" data-i18n="support.a11">Đang cập nhật thông tin gói Pro và hướng dẫn kích hoạt.</p>
          </section>
          <section id="support-bug">
            <h3 class="font-semibold" data-i18n="support.q12">Cách báo lỗi hiệu quả</h3>
            <p class="tc-muted" data-i18n="support.a12">Đính kèm ảnh, trình duyệt, bước tái hiện và kết quả mong đợi.</p>
          </section>
        </div>

        <div class="tc-card p-4">
          <h3 class="text-sm font-semibold" data-i18n="support.form.title">Gửi yêu cầu hỗ trợ</h3>
          <div class="mt-3 grid gap-3 md:grid-cols-2">
            <label class="block text-xs">
              <span class="tc-muted" data-i18n="support.form.type">Loại yêu cầu</span>
              <select id="supportType" class="tc-input w-full mt-2">
                <option value="Hỏi đáp" data-i18n="support.form.type.ask">Hỏi đáp</option>
                <option value="Báo lỗi" data-i18n="support.form.type.bug">Báo lỗi</option>
                <option value="Đề xuất tính năng" data-i18n="support.form.type.feature">Đề xuất tính năng</option>
              </select>
            </label>
            <label class="block text-xs">
              <span class="tc-muted" data-i18n="support.form.email">Email liên hệ (tuỳ chọn)</span>
              <input id="supportEmail" type="email" class="tc-input w-full mt-2" placeholder="you@email.com">
            </label>
          </div>
          <label class="block text-xs mt-3">
            <span class="tc-muted" data-i18n="support.form.message">Nội dung</span>
            <textarea id="supportMessage" class="tc-input w-full mt-2 min-h-[120px]" placeholder="Mô tả chi tiết, bước tái hiện..."></textarea>
          </label>
          <div class="mt-4 flex flex-wrap items-center gap-3">
            <button id="supportSend" class="tc-btn tc-btn-primary px-4 py-2 text-sm" type="button" data-i18n="support.form.send">Gửi yêu cầu</button>
            <span id="supportMailHelp" class="tc-muted text-xs hidden" data-i18n="support.form.fallback">Không mở được mail, hãy sao chép nội dung và gửi tới spacecolor8portals@gmail.com.</span>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script src="./scripts/site_meta.js"></script>
  <script src="./i18n.js"></script>
  <script type="module" src="./auth.js"></script>
  <script src="./scripts/support_hub.js" defer></script>
  <script>
    (() => {
      const meta = window.__SC_META__?.contact || {};
      const email = meta.email || "";
      const phone = meta.phone || "";
      const zaloUrl = meta.zaloUrl || "";
      const emailText = document.getElementById("footerEmailText");
      const emailLink = document.getElementById("footerEmailLink");
      const phoneLink = document.getElementById("footerPhoneLink");
      const zaloLink = document.getElementById("footerZaloLink");
      if (emailText) emailText.textContent = email;
      if (emailLink && email) emailLink.href = `mailto:${email}`;
      if (phoneLink && phone) phoneLink.href = `tel:${phone}`;
      if (zaloLink && zaloUrl) zaloLink.href = zaloUrl;
    })();
  </script>
  
  
  
  
  
  <script>
    (() => {
      const root = document.documentElement;
      const spinBtn = document.getElementById("rouletteSpin");
      const resetBtn = document.getElementById("rouletteReset");
      const inputA1 = document.getElementById("forgeA1");
      const inputA2 = document.getElementById("forgeA2");
      const inputA3 = document.getElementById("forgeA3");
      const copyBtn = document.getElementById("forgeCopy");
      const valueEls = {
        a1: document.querySelector('[data-accent-value="a1"]'),
        a2: document.querySelector('[data-accent-value="a2"]'),
        a3: document.querySelector('[data-accent-value="a3"]')
      };
      if (!spinBtn || !resetBtn || !inputA1 || !inputA2 || !inputA3 || !copyBtn) return;

      const presets = [
        ["#ff6b6b", "#ffd166", "#6ee7b7"],
        ["#60a5fa", "#a78bfa", "#f472b6"],
        ["#22c55e", "#84cc16", "#14b8a6"],
        ["#f97316", "#facc15", "#fb7185"],
        ["#38bdf8", "#0ea5e9", "#6366f1"],
        ["#f59e0b", "#ef4444", "#fb7185"],
        ["#2dd4bf", "#60a5fa", "#a78bfa"]
      ];

      const setAccent = (a1, a2, a3) => {
        root.style.setProperty("--a1", a1);
        root.style.setProperty("--a2", a2);
        root.style.setProperty("--a3", a3);
      };

      const resetAccent = () => {
        root.style.removeProperty("--a1");
        root.style.removeProperty("--a2");
        root.style.removeProperty("--a3");
      };

      const parseRgb = (value) => {
        const match = value.replace(/\s+/g, "").match(/^rgba?\((\d+),(\d+),(\d+)/i);
        if (!match) return null;
        const r = Number(match[1]);
        const g = Number(match[2]);
        const b = Number(match[3]);
        if ([r, g, b].some((v) => Number.isNaN(v))) return null;
        return [r, g, b];
      };

      const toHex = (value) => {
        if (!value) return "#000000";
        const raw = value.trim();
        if (raw.startsWith("#")) {
          if (raw.length === 4) {
            return "#" + raw.slice(1).split("").map((c) => c + c).join("");
          }
          if (raw.length === 7) return raw;
        }
        const rgb = parseRgb(raw);
        if (!rgb) return "#000000";
        return "#" + rgb.map((v) => v.toString(16).padStart(2, "0")).join("");
      };

      const getAccent = () => {
        const styles = getComputedStyle(root);
        return {
          a1: toHex(styles.getPropertyValue("--a1")),
          a2: toHex(styles.getPropertyValue("--a2")),
          a3: toHex(styles.getPropertyValue("--a3"))
        };
      };

      const refreshForgeUI = () => {
        const current = getAccent();
        inputA1.value = current.a1;
        inputA2.value = current.a2;
        inputA3.value = current.a3;
        if (valueEls.a1) valueEls.a1.textContent = current.a1.toUpperCase();
        if (valueEls.a2) valueEls.a2.textContent = current.a2.toUpperCase();
        if (valueEls.a3) valueEls.a3.textContent = current.a3.toUpperCase();
      };

      const ensureToast = () => {
        let toast = document.getElementById("tcToast");
        if (toast) return toast;
        toast = document.createElement("div");
        toast.id = "tcToast";
        toast.className = "tc-toast";
        toast.setAttribute("role", "status");
        toast.setAttribute("aria-live", "polite");
        document.body.appendChild(toast);
        return toast;
      };

      const showToast = (message) => {
        const toast = ensureToast();
        toast.textContent = "";
        window.clearTimeout(showToast._t);
        const raf = window.requestAnimationFrame || ((fn) => setTimeout(fn, 0));
        raf(() => {
          toast.textContent = message;
          toast.classList.add("is-visible");
          showToast._t = window.setTimeout(() => {
            toast.classList.remove("is-visible");
          }, 1400);
        });
      };

      const getCopyText = () => {
        const current = getAccent();
        return `--a1: ${current.a1};\n--a2: ${current.a2};\n--a3: ${current.a3};`;
      };

      const copyToClipboard = (text) => {
        if (navigator.clipboard && window.isSecureContext) {
          return navigator.clipboard.writeText(text);
        }
        return new Promise((resolve) => {
          const ta = document.createElement("textarea");
          ta.value = text;
          ta.style.position = "fixed";
          ta.style.opacity = "0";
          document.body.appendChild(ta);
          ta.select();
          try {
            document.execCommand("copy");
          } catch (err) {}
          ta.remove();
          resolve();
        });
      };

      spinBtn.addEventListener("click", () => {
        const preset = presets[Math.floor(Math.random() * presets.length)];
        if (!preset) return;
        setAccent(preset[0], preset[1], preset[2]);
        refreshForgeUI();
      });

      resetBtn.addEventListener("click", () => {
        resetAccent();
        refreshForgeUI();
      });

      const onForgeInput = () => {
        setAccent(inputA1.value, inputA2.value, inputA3.value);
        refreshForgeUI();
      };
      inputA1.addEventListener("input", onForgeInput);
      inputA2.addEventListener("input", onForgeInput);
      inputA3.addEventListener("input", onForgeInput);

      copyBtn.addEventListener("click", () => {
        const messageNode = document.querySelector('[data-i18n="toast.copied"]');
        const message = messageNode ? messageNode.textContent : "Đã sao chép!";
        copyToClipboard(getCopyText()).then(() => showToast(message));
      });

      refreshForgeUI();
    })();
  </script>
  <script src="./quick_actions.js"></script>
  <span class="sr-only" data-i18n="toast.copied">Đã sao chép!</span>

<script type="module" src="./scripts/hex_hub.js"></script>
  <script src="./scripts/topbar_render.js" defer></script>
  <script src="./scripts/topbar_behavior.js" defer></script>
</body>
</html>


